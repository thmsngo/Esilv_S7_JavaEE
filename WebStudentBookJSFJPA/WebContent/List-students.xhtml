<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
	  
<f:metadata>
	<f:event type="preRenderView" listener="#{studentManager.loadStudents()}"/>
</f:metadata>
	  
<head>
  <title><ui:insert name="title">List Student</ui:insert></title>
  <link type="text/css" rel="stylesheet" href="css/style.css" />
</head>

<body>
<!--  <ui:debug hotkey="x" rendered="#{initParam['javax.faces.FACELETS_DEVELOPMENT']}"/> -->

<div id="content">
  <ui:insert name="content">
  
	<h1>List of students</h1>
	
  	<h:form>	
  		<h:dataTable border="1" value="#{studentManager.students}" var="tempStudent">
			<h:column>
				<f:facet name="header">ID</f:facet>
				#{tempStudent.id}
			</h:column>
			<h:column>
				<f:facet name="header">Pr√©nom</f:facet>
				#{tempStudent.firstName}
			</h:column>
			<h:column>
				<f:facet name="header">Nom</f:facet>
				#{tempStudent.lastName}
			</h:column>
			<h:column>
				<f:facet name="header">Email</f:facet>
				#{tempStudent.email}
			</h:column>	
			<h:column>
				<f:facet name="header">Actions</f:facet>
				<h:commandButton action="#{studentManager.loadStudent(tempStudent.id)}" value="Edit"/>	
				<h:commandButton action="#{studentManager.deleteStudent(tempStudent.id)}" value="Delete"/>	
			</h:column>		
		</h:dataTable>  
		<br/>
		<h:commandButton action="Add-student" value="Add"/>
  	</h:form>
  </ui:insert>
</div>
</body>
</html>
